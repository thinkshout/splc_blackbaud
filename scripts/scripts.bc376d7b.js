var BLACKBAUD=BLACKBAUD||{};BLACKBAUD.api={},function(){function a(a){return d[a]||(d[a]=new easyXDM.Rpc({remote:a+"client/scripts/easyXDM/cors/index.html"},{remote:{ajax:{}}})),d[a]}function b(a,b,c,d){"success"===b?c&&c($.parseJSON(a.responseText)):400===a.status?d&&d($.parseJSON(a.responseText)):d&&d()}function c(a,c,d,e){c?c.ajax(a,function(a){b(a.jqXHR,a.textStatus,d,e)},function(){e()}):(a.complete=function(a,c){b(a,c,d,e)},$.ajax(a))}BLACKBAUD.api.querystring={getQueryStringValue:function(a,b){var c,d;return b||(b=window.location.search),b=b.toLowerCase(),c=new RegExp("[?|&]"+a+"=(.*?)&"),d=c.exec(b+"&"),!d||d.length<2?"":decodeURIComponent(d[1].replace("+"," "))}},BLACKBAUD.api.pageInformation={rootPath:"",pageId:""};var d=[];!function(){BLACKBAUD.api.CountryService=function(b){var c,d;"string"==typeof b?d=b:"object"==typeof b&&(d=b.url,c=b.crossDomain),d||(d=BLACKBAUD.api.pageInformation.rootPath),c&&(this._rpc=a(d)),this.baseUrl=d+"WebApi"},BLACKBAUD.api.CountryService.prototype={getCountries:function(a,b){var d=this.baseUrl+"/Country";c({url:d,type:"GET"},this._rpc,a,b)},getStates:function(a,b,d){var e=this.baseUrl+"/Country/"+a+"/State";c({url:e,type:"GET"},this._rpc,b,d)},getAddressCaptions:function(a,b,d){var e=this.baseUrl+"/Country/"+a+"/AddressCaptions";c({url:e,type:"GET"},this._rpc,b,d)}}}(),function(){BLACKBAUD.api.CodeTableService=function(b){var c,d;"string"==typeof b?d=b:"object"==typeof b&&(d=b.url,c=b.crossDomain),d||(d=BLACKBAUD.api.pageInformation.rootPath),c&&(this._rpc=a(d)),this.baseUrl=d+"WebApi"},BLACKBAUD.api.CodeTableService.prototype={getEntries:function(a,b,d){var e=this.baseUrl+"/CodeTable/"+a;c({url:e,type:"GET"},this._rpc,b,d)}}}(),function(){BLACKBAUD.api.QueryService=function(b){var c,d;"string"==typeof b?d=b:"object"==typeof b&&(d=b.url,c=b.crossDomain),d||(d=BLACKBAUD.api.pageInformation.rootPath),c&&(this._rpc=a(d)),this.baseUrl=d+"WebApi"},BLACKBAUD.api.QueryService.prototype={getResults:function(a,b,d,e){var f,g,h,i,j,k=this.baseUrl+"/Query/"+a;if(e){for(j="",g=0;g<e.length;g++)h=e[g],f=h.columnName,i=h.value,f&&i&&(j.length>0&&(j+="&"),j+=encodeURIComponent(f)+"="+encodeURIComponent(i));j.length>0&&(k+="?"+j)}c({url:k,type:"GET"},this._rpc,b,d)}}}(),function(){BLACKBAUD.api.UserService=function(b){var c,d;"string"==typeof b?d=b:"object"==typeof b&&(d=b.url,c=b.crossDomain),d||(d=BLACKBAUD.api.pageInformation.rootPath),c&&(this._rpc=a(d)),this.baseUrl=d+"WebApi"},BLACKBAUD.api.UserService.prototype={getProfile:function(a,b){var d=this.baseUrl+"/User";c({url:d,type:"GET"},this._rpc,a,b)}}}(),function(){BLACKBAUD.api.ImageService=function(b){var c,d;"string"==typeof b?d=b:"object"==typeof b&&(d=b.url,c=b.crossDomain),d||(d=BLACKBAUD.api.pageInformation.rootPath),c&&(this._rpc=a(d)),this.baseUrl=d+"WebApi"},BLACKBAUD.api.ImageService.prototype={getImagesByFolderGUID:function(a,b,d){var e=this.baseUrl+"/Images?FolderGUID="+encodeURIComponent(a);c({url:e,type:"GET"},this._rpc,b,d)},getImagesByTag:function(a,b,d){var e=this.baseUrl+"/Images?Tag="+encodeURIComponent(a);c({url:e,type:"GET"},this._rpc,b,d)},getImagesByFolder:function(a,b,d){var e=this.baseUrl+"/Images/"+encodeURIComponent(a);c({url:e,type:"GET"},this._rpc,b,d)}}}()}(),function(){function a(a,b){var c="BBElementBlock";return a||(a="Processing..."),b&&(c+=" BBPageBlock"),{message:"<div class='"+c+"'><span>"+a+"</span></div>",overlayCSS:{backgroundColor:"#CCCCCC"}}}function b(a){return a?"string"==typeof a?document.getElementById(a):a instanceof $?a[0]:a.dom||a:null}function c(a){var b,c;for(b=g.length;b--;)if(c=g[b],c.el===a)return c}function d(a){var b;return b={el:a,waitCount:0},g.push(b),b}function e(a){var b;for(b=g.length;b--;)if(a===g[b]){g.splice(b,1);break}}var f,g;f=500,g=[],BLACKBAUD.api.blockElement=function(e,g,h){var i,j;$.blockUI.defaults.css={},h=h===!1||0===h?0:h||f,e=b(e),j=c(e),j||(j=d(e),i=e?setTimeout(function(){$(e).block(a(g,!1))},h):setTimeout(function(){$.blockUI(a(g,!0))},h),j.delayHandle=i),j.waitCount++},BLACKBAUD.api.unblockElement=function(a){var d,f;a=b(a),f=c(a),f&&(f.waitCount--,0===f.waitCount&&(d=f.delayHandle,d&&(clearTimeout(d),f.delayHandle=null),a?$(a).unblock():$.unblockUI(),e(f)))}}(),function(){function a(a){return a.baseUrl+"WebApi/"+a.contextId+"/Donation"}function b(a){return e[a]||window.easyXDM&&(e[a]=new easyXDM.Rpc({remote:a+"client/scripts/easyXDM/cors/index.html"},{remote:{ajax:{}}})),e[a]}function c(a,b,c,d){"success"===b?c&&c($.parseJSON(a.responseText)):400===a.status?d&&d($.parseJSON(a.responseText)):d&&d()}function d(a,b,d,e){function f(a){e&&(a&&a.data?e(a.data):e())}b?b.ajax(a,function(a){c(a.jqXHR,a.textStatus,d,f)},function(){e()}):(a.complete=function(a,b){c(a,b,d,e)},$.ajax(a))}var e=[];BLACKBAUD.api.DonationService=function(a,c){var d,e;"string"==typeof c?e=c:"object"==typeof c&&(e=c.url,d=c.crossDomain),e||(e=BLACKBAUD.api.pageInformation.rootPath),d&&(this._rpc=b(e)),this.baseUrl=e,this.contextId=a},BLACKBAUD.api.DonationService.prototype={createDonation:function(b,c,e){function f(a){f&&c(a),a.BBSPCheckoutUri?location.href=a.BBSPCheckoutUri:a.PaymentPageUri&&(location.href=a.PaymentPageUri)}var g=a(this)+"/Create";d({url:g,type:"POST",data:JSON.stringify(b),contentType:"application/json"},this._rpc,f,e)},getDonation:function(b,c,e){var f=a(this)+"/"+b;d({url:f,type:"GET"},this._rpc,c,e)},completeBBSPDonation:function(b,c,e){var f=a(this)+"/"+b+"/CompleteBBSPDonation";d({url:f,type:"POST"},this._rpc,c,e)},getDonationConfirmationHtml:function(b,c,e){var f=a(this)+"/"+b+"/ConfirmationHtml";d({url:f,type:"GET"},this._rpc,c,e)}}}(),angular.module("splcDonationApp",["ngAnimate","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","validation.match"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/donation.html",controller:"DonationController",controllerAs:"donation"}).when("/tribute",{templateUrl:"views/tribute.html",controller:"DonationController",controllerAs:"donation"}).when("/confirmation",{templateUrl:"views/confirmation.html",controller:"ConfirmationController",controllerAs:"confirmation"}).when("/ccconfirm",{templateUrl:"views/confirmation.html",controller:"CCConfirmController"}).when("/incomplete",{templateUrl:"views/incomplete.html"}).when("/paypal",{templateUrl:"views/paypal.html",controller:"PaypalController",controllerAs:"paypal"}).otherwise({redirectTo:"/"})}]).config(["$httpProvider",function(a){a.defaults.useXDomain=!0,delete a.defaults.headers.common["X-Requested-With"],a.defaults.headers.common["Content-Type"]="application/json"}]).service("donationLogger",function(){var a={};return{getDonation:function(){return a},setDonation:function(b,c){a=b,a.DonationType=c}}}).service("ecardIdService",function(){var a="";return{getEcardId:function(){return a},setEcardId:function(a){}}}).service("paypalService",function(){var a={};return{getPaypalDonor:function(){return a},setPaypalDonor:function(b){a=b}}}).service("guidService",function(){return{designationGuid:"09ccef1b-97c6-455a-a793-42ab31888036",merchantAccountGuid:"c6de7f55-a953-4e64-b382-147268e9b25f",defaultCountryGuid:"d81cef85-7569-4b2e-8f2e-f7cf998a3342",monthlyGuid:"4E1FB9C5-E3D8-4EDE-8BE0-E48D16ABF3FD",renewalGuid:"EF465D68-7F83-4984-8020-02F1-62C50206",accountHolderGuid:"39062A66-260D-4351-A0FC-41D57061C482",accountNumberGuid:"C56B2DD2-0C58-4F49-8308-2F46428F699D",routingNumberGuid:"A6C7CFA0-5686-45B3-A85C-D5A3E1E4A6AC"}}).service("donationBuilder",["guidService","ecardIdService",function(a,b){var c={};return c.Gift={},c.Gift.Designations=[],c.MerchantAccountId=a.merchantAccountGuid,{buildCCDonation:function(b,d){return c.Donor=b,c.Gift.PaymentMethod=parseInt(d.PaymentMethod),c.BBSPReturnUri=window.location.origin+"/#/confirmation","other"==d.Designations.Amount?c.Gift.Designations.push({DesignationId:a.designationGuid,Amount:parseFloat(d.OtherAmount).toFixed(2)}):c.Gift.Designations.push({DesignationId:a.designationGuid,Amount:parseFloat(d.Designations.Amount).toFixed(2)}),c},buildCCMonthlyDonation:function(b,d){c.Donor=b,c.Gift.PaymentMethod=parseInt(d.PaymentMethod),c.BBSPReturnUri=window.location.origin+"/#/confirmation","other"==d.Designations.Amount?c.Gift.Designations.push({DesignationId:a.designationGuid,Amount:parseFloat(d.OtherAmount).toFixed(2)}):c.Gift.Designations.push({DesignationId:a.designationGuid,Amount:parseFloat(d.Designations.Amount).toFixed(2)});var e=d.Recurrence.Frequency,f="";return f="monthly"==e?a.monthlyGuid:a.renewalGuid,c.Gift.Attributes=[{attributeId:f,value:"yes"}],c},buildACHMonthlyDonation:function(b,d){c.Donor=b,c.Gift.PaymentMethod=1,"other"==d.Designations.Amount?c.Gift.Designations.push({DesignationId:a.designationGuid,Amount:parseFloat(d.OtherAmount).toFixed(2)}):c.Gift.Designations.push({DesignationId:a.designationGuid,Amount:parseFloat(d.Designations.Amount).toFixed(2)});var e=d.Recurrence.Frequency,f="";return f="monthly"==e?a.monthlyGuid:a.renewalGuid,c.Gift.Attributes=[{AttributeId:f,Value:"yes"},{AttributeId:a.routingNumberGuid,Value:d.Routing},{AttributeId:a.accountNumberGuid,Value:d.AccountNumber},{AttributeId:a.accountHolderGuid,Value:d.AccountHolder}],c},buildPledgeDonation:function(b,d){return c.Donor=b,c.Gift.PaymentMethod=1,"other"==d.Designations.Amount?c.Gift.Designations.push({DesignationId:a.designationGuid,Amount:parseFloat(d.OtherAmount).toFixed(2)}):c.Gift.Designations.push({DesignationId:a.designationGuid,Amount:parseFloat(d.Designations.Amount).toFixed(2)}),c},buildTributeDonation:function(d,e,f,g){return c.Donor=d,c.Gift.PaymentMethod=1,"other"==e.Designations.Amount?c.Gift.Designations.push({DesignationId:a.designationGuid,Amount:parseFloat(e.OtherAmount).toFixed(2)}):c.Gift.Designations.push({DesignationId:a.designationGuid,Amount:parseFloat(e.Designations.Amount).toFixed(2)}),f&&"email"==f.Type&&(b.setEcardId(g.Type),c.Gift.Tribute={},c.Gift.Tribute.TributeDefinition={},c.Gift.Tribute.TributeDefinition=e.Tribute.TributeDefinition,c.Gift.Tribute.TributeDefinition.Type=e.Tribute.TributeDefinition.Type,c.Gift.Tribute.TributeDefinition.Description=e.Tribute.TributeDefinition.Type,c.Gift.Tribute.Acknowledgee={},c.Gift.Tribute.Acknowledgee=e.Tribute.Acknowledgee,c.Gift.Comments=e.Comments),c}}}]).service("bbDonationService",["$http",function(a){return{createDonation:function(b,c,d){a({method:"POST",url:"https://bbnc21027d.blackbaudhosting.com/WebApi/1128/Donation/Create",data:b,headers:{"Content-Type":"application/json"}}).then(c,d)}}}]),angular.module("splcDonationApp").controller("DonationController",["$scope","$http","$location","donationLogger","ecardIdService","paypalService","guidService","donationBuilder","bbDonationService",function(a,b,c,d,e,f,g,h,i){a.validateRouting=function(a){var b=a.match(/^\s*([\d]{9})\s*$/);if(b){for(var c=[3,7,1],d=b[1],e=0,f=0;9>f;++f)e+=d.charAt(f)*c[f%3];return 0!==e&&e%10===0}return!1};var j=new BLACKBAUD.api.CountryService({url:"//bbnc21027d.blackbaudhosting.com/"});a.getCountries=function(){j.getCountries(function(a){for(var b=$(".country-select"),c=0;c<a.length;c++)"United States"===a[c].Description?b.append('<option value="'+a[c].Id+'">'+a[c].Description+"</option>"):b.append('<option value="'+a[c].Id+'">'+a[c].Description+"</option>")})},a.getStates=function(a,b){var c=a||g.defaultCountryGuid,d="";d=b?b.html(""):$(".state-select").html(""),j.getStates(c,function(a){for(var b=0,c=a.length;c>b;b++)d.append('<option value="'+a[b].Id+'">'+a[b].Description+"</option>")})},a.changeStates=function(){$(".country-select.first").on("change",function(){a.getStates($(this).val(),$(".state-select.first"))}),$(".country-select.second").on("change",function(){a.getStates($(this).val(),$(".state-select.second"))})},a.processCCDonation=function(a,b){function d(a){var b=a.data;window.location=b.BBSPCheckoutUri}function e(a){c.path("/incomplete")}var f=h.buildCCDonation(a,b);i.createDonation(f,d,e)},a.processCCMonthlyDonation=function(a,b){function e(a){var b=a.data;d.setDonation(a,"monthlyCC"),window.location=b.BBSPCheckoutUri}function f(a){c.path("/confirmation")}var g=h.buildCCMonthlyDonation(a,b);i.createDonation(g,e,f)},a.processACHMonthlyDonation=function(a,b){function e(a){d.setDonation(a,"monthlyACH"),c.path("/confirmation")}function f(a){c.path("/confirmation"),console.log(a)}var g=h.buildACHMonthlyDonation(a,b);i.createDonation(g,e,f)},a.processPaypalDonation=function(a,b){function e(a){var b=a.data;d.setDonation(b,"paypal"),c.path("/paypal")}function f(a){console.log(a),c.path("/confirmation")}var g=h.buildPledgeDonation(a,b);i.createDonation(g,e,f)},a.processTributeDonation=function(a,b,e,f){function g(a){a.data;e?d.setDonation(a,"tributeEcard"):d.setDonation(a,"tribute"),c.path("/confirmation")}function j(a){c.path("/confirmation")}var k=h.buildTributeDonation(a,b,e,f);i.createDonation(k,g,j)},a.init=function(){a.getCountries(),a.getStates(),a.changeStates(),$('[name="routing_number"]').keyup(function(){var b=a.validateRouting($(this).val());b?$(".error.aba").hide():$(".error.aba").show()})},a.init()}]),angular.module("splcDonationApp").controller("ConfirmationController",["$scope","$http","donationLogger","ecardIdService",function(a,b,c,d){a.sendEcard=function(a){console.log(a);var c="TributeeFirstName="+a.Gift.Tribute.TributeDefinition.FirstName+"&TributeeLastName="+a.Gift.Tribute.TributeDefinition.LastName+"&ImageIdentifier="+d.getEcardId()+"&SenderFirstName="+a.Donor.FirstName+"&SenderLastName="+a.Donor.LastName+"&SenderEmailAddress="+a.Donor.EmailAddress+"&RecipientFirstName="+a.Gift.Tribute.Acknowledgee.FirstName+"&RecipientLastName="+a.Gift.Tribute.Acknowledgee.LastName+"&RecipientEmailAddress="+a.Gift.Tribute.Acknowledgee.Email+"&PersonalMessage="+a.Gift.Comments+"&TransactionStatus="+a.TransactionStatus+"&HonorMemory="+a.Gift.Tribute.TributeDefinition.Type;console.log("Ecard: "+c),b({method:"POST",url:"//ecard-splc.pantheon.io/"+a.Id,data:encodeURI(c),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){return console.log(a),"200"===a.status?!0:!1},function(a){return console.log(a),!1})},a.checkPaymentStatus=function(b){var c=b.data.Donation;if("Created"===b.statusText){if(a.statusHeading="Your donation is complete",a.statusBody="Thank you for your donation of $"+c.Gift.Designations[0].Amount,"tributeEcard"===b.DonationType){var d=a.sendEcard(c);d?a.statusBody="Thank you for your donation of $"+c.Gift.Designations[0].Amount+". Your ecard has been sent":a.statusBody="Thank you for your donation of $"+c.Gift.Designations[0].Amount+". We were unable to send your eCard, please contact us at 1-800-ECARD-NOW."}}else a.statusHeading="Transaction Incomplete",a.statusBody="We were unable to process your donation."},a.init=function(){window.scrollTo(0,0);var b=c.getDonation();a.checkPaymentStatus(b)},a.init()}]),angular.module("splcDonationApp").controller("PaypalController",["$scope","$http","$location","donationLogger",function(a,b,c,d){a.confirmationPath=function(){return window.location.origin+"/#/confirmation"},a.paypalDonor=d.getDonation(),a.init=function(){window.scrollTo(0,0)},a.init()}]),angular.module("splcDonationApp").run(["$templateCache",function(a){"use strict";a.put("views/confirmation.html",'<h2 id="status-heading">{{statusHeading}}</h2> <p id="status-body">{{statusBody}}</p>'),a.put("views/donation.html",'<form name="donationForm" novalidate> <h2>Donation Information</h2> <!-- DONATION AMOUNT --> <h3>Donation Amount:</h3> <div class="radio-grp donation-group"> <div class="radio-btn"> <input type="radio" id="25" name="amount" value="25" ng-model="Gift.Designations.Amount" ng-required="!amount"> <label for="25">$25</label> </div> <div class="radio-btn"> <input type="radio" id="50" name="amount" value="50" ng-model="Gift.Designations.Amount" ng-required="!amount"> <label for="50">$50</label> </div> <div class="radio-btn"> <input type="radio" id="100" name="amount" value="100" ng-model="Gift.Designations.Amount" ng-required="!amount"> <label for="100">$100</label> </div> <div class="radio-btn"> <input type="radio" id="500" name="amount" value="500" ng-model="Gift.Designations.Amount" ng-required="!amount"> <label for="500">$500</label> </div> <div class="radio-btn"> <input type="radio" id="other" name="amount" value="other" ng-model="Gift.Designations.Amount" ng-required="!amount"> <label class="other-toggle" for="other">Other Amount:</label> </div> <div class="form-group other-group" ng-show="Gift.Designations.Amount == \'other\'"> <label for="other_amount">Other Amount: {{Gift.OtherAmount | currency}}</label> <input type="number" ng-model="Gift.OtherAmount" name="other_amount" ng-min="1"> <p class="error" ng-if="donationForm.other_amount.$error.min && donation.amount == \'other\'">Please enter at least 1.00</p> </div> </div> <!-- DONATION OPTIONS --> <h3>Donation Options:</h3> <div class="radio-grp donation-options-group"> <div class="radio-btn"> <input type="radio" id="once" name="donation_option" value="once" ng-model="Gift.Recurrence.Frequency" ng-required="!Gift.Recurrence.Frequency"> <label for="once">One Time Contribution</label> </div> <div class="radio-btn"> <input type="radio" id="renewal" name="donation_option" value="renewal" ng-model="Gift.Recurrence.Frequency" ng-required="!Gift.Recurrence.Frequency"> <label for="renewal">Renewal</label> </div> <div class="radio-btn"> <input type="radio" id="monthly" name="donation_option" value="monthly" ng-model="Gift.Recurrence.Frequency" ng-required="!Gift.Recurrence.Frequency"> <label for="monthly">Monthly Donation</label> </div> <div class="radio-btn"> <a ng-href="#tribute" class="tribute-btn">Tribute</a> </div> <div class="error" ng-messages="donationForm.donation_option.$error.$required"> <p ng-message="required">Please select a donation option</p> </div> </div> <!-- DONOR INFORMATION --> <h2>Donor Information</h2> <div class="form-group half"> <label for="first_name">First Name<span class="required">*</span></label> <input type="text" ng-model="Donor.FirstName" name="first_name" ng-minlength="2" required> <div class="error" ng-messages="donationForm.first_name.$error" ng-if="donationForm.first_name.$touched"> <p ng-message="required">Please enter your first name</p> <p ng-message="minlength">Enter at least 2 letters for your first name</p> </div> </div> <div class="form-group half last"> <label for="last_name">Last Name<span class="required">*</span></label> <input type="text" name="last_name" ng-model="Donor.LastName" ng-minlength="2" required> <div class="error" ng-messages="donationForm.last_name.$error" ng-if="donationForm.last_name.$touched"> <p ng-message="required">Please enter your last name</p> <p ng-message="minlength">Enter at least 2 letters for your last name</p> </div> </div> <div class="form-group"> <label for="street_address">Address<span class="required">*</span></label> <input type="text" name="street_address" ng-model="Donor.Address.StreetAddress" required> <div class="error" ng-messages="donationForm.street_address.$error" ng-if="donationForm.street_address.$touched"> <p ng-message="required">Please enter your address</p> </div> </div> <div class="form-group"> <label for="city">City<span class="required">*</span></label> <input type="text" name="city" ng-model="Donor.Address.City" ng-maxlength="100" required> <div class="error" ng-messages="donationForm.city.$error" ng-if="donationForm.city.$touched"> <p ng-message="required">Please enter your city</p> <p ng-message="maxlength">Maximum 100 characters</p> </div> </div> <div class="form-group third"> <label for="state">State<span class="required">*</span></label> <div class="select"> <select class="state-select first" name="state" ng-model="Donor.Address.State" required> </select> </div> </div> <div class="form-group third"> <label for="zipcode">Zip Code<span class="required">*</span></label> <input type="text" name="postal_code" ng-model="Donor.Address.PostalCode" ng-pattern="/(^([0-9]{5})$)|(^[ABCEGHJKLMNPRSTVXYabceghjklmnprstvxy]{1}\\d{1}[A-Za-z]{1} *\\d{1}[A-Za-z]{1}\\d{1}$)/" required> <div class="error" ng-messages="donationForm.postal_code.$error" ng-if="donationForm.postal_code.$touched"> <p ng-message="required">Please enter your zip code</p> </div> <p class="error" ng-show="donationForm.postal_code.$error.pattern">Please enter a valid zipcode</p> </div> <div class="form-group third last"> <label for="country">Country<span class="required">*</span></label> <div class="select"> <select class="country-select first" name="country" ng-model="Donor.Address.Country" required> </select> </div> <div class="error" ng-messages="donationForm.donor_country.$error" ng-if="donationForm.donor_country.$touched && Donor.Address.Country == \'\'"> <p ng-message="required">Please enter your country</p> </div> </div> <div class="form-group"> <label for="phone">Phone Number</label> <input type="text" name="phone" ng-model="Donor.Phone"> </div> <div class="form-group"> <label for="email">Email Address</label> <input type="email" name="email" ng-model="Donor.EmailAddress" ng-pattern="/^[A-Za-z0-9](([_\\.\\-]?[a-zA-Z0-9]+)*)@([A-Za-z0-9]+)(([\\.\\-]?[a-zA-Z0-9]+)*)\\.([A-Za-z]{2,})$/"> <p class="error" ng-show="donationForm.email.$error.pattern">Please enter a valid email address</p> </div> <div class="form-group"> <label for="confirm_email">Confirm Email Address</label> <input type="email" name="donor_confirm_email" ng-model="Donor.ConfirmEmail" match="Donor.EmailAddress"> <p class="error" ng-show="donationForm.donor_confirm_email.$error.match">Make sure the email addresses match</p> </div> <!-- PAYMENT INFORMATION --> <h2>Payment</h2> <div class="radio-grp payment-type"> <div class="radio-btn"> <input type="radio" id="credit_card" name="donor_payment_type" value="0" ng-model="Gift.PaymentMethod" ng-required="!Gift.PaymentMethod"> <label class="credit-card" for="credit_card">Credit Card</label> </div> <div class="radio-btn" ng-show="Gift.Recurrence.Frequency == \'renewal\' || Gift.Recurrence.Frequency == \'monthly\'"> <input type="radio" id="bank_draft" name="donor_payment_type" value="1" ng-model="Gift.PaymentMethod" ng-required="!Gift.PaymentMethod"> <label class="bank-draft" for="bank_draft">Bank Draft</label> </div> <div class="radio-btn" ng-if="Gift.Recurrence.Frequency == \'once\'"> <input type="radio" id="paypal" name="donor_payment_type" value="2" ng-model="Gift.PaymentMethod" ng-required="!Gift.PaymentMethod"> <label class="paypal" for="paypal">Paypal</label> </div> </div> <!-- Bank Draft --> <div class="bank-draft-group" ng-show="Gift.PaymentMethod == \'1\'"> <div class="form-group half"> <label for="routing_number">Routing Number<span class="required">*</span></label> <input type="text" name="routing_number" ng-model="Gift.Routing" ng-required="Gift.PaymentMethod == \'1\'" ng-minlength="9" ng-maxlength="9"> <div class="error" ng-messages="donationForm.routing_number.$error" ng-if="donationForm.routing_number.$touched"> <p ng-message="required">Please enter a routing number</p> <p ng-message="minlength">The routing number must be 9 digits</p> <p ng-message="maxlength">The routing number must be 9 digits</p> </div> <div class="error aba" ng-if="donationForm.routing_number.$touched"> <p class="error">Your routing number is not valid</p> </div> </div> <div class="form-group half last"> <label for="account_number">Account Number<span class="required">*</span></label> <input type="text" name="account_number" ng-model="Gift.AccountNumber" ng-required="Gift.PaymentMethod == \'1\'"> <div class="error" ng-messages="donationForm.city.$error" ng-if="donationForm.city.$touched"> <p ng-message="required">Please enter your city</p> </div> </div> <div class="form-group"> <label for="account_holder">Account Holder\'s Name<span class="required">*</span></label> <input type="text" name="account_holder" ng-model="Gift.AccountHolder" ng-required="Gift.PaymentMethod == \'1\'"> </div> </div> <div class="form-group form-actions"> <button class="disabled" value="Enter Required Fields to Submit" disabled ng-show="donationForm.$invalid"> Continue to Payment </button> <!-- credit card one time --> <button class="button-dark" type="submit" ng-show="donationForm.$valid && Gift.PaymentMethod == 0 && Gift.Recurrence.Frequency == \'once\'" ng-click="processCCDonation(Donor, Gift)"> Continue to Payment </button> <!-- credit card monthly --> <button class="button-dark" type="submit" ng-show="donationForm.$valid && Gift.PaymentMethod == 0 && (Gift.Recurrence.Frequency == \'monthly\' || Gift.Recurrence.Frequency == \'renewal\')" ng-click="processCCMonthlyDonation(Donor, Gift)"> Continue to Payment </button> <!-- credit ach monthly --> <button class="button-dark" type="submit" ng-show="donationForm.$valid && Gift.PaymentMethod == 1 && (Gift.Recurrence.Frequency == \'monthly\' || Gift.Recurrence.Frequency == \'renewal\')" ng-click="processACHMonthlyDonation(Donor, Gift)"> Continue to Payment </button> <!-- Paypal --> <button class="button-dark" type="submit" ng-show="donationForm.$valid && Gift.PaymentMethod == 2" ng-click="processPaypalDonation(Donor, Gift)"> Continue </button> </div> </form>'),a.put("views/faker.html",'<button class="button button-dark" ng-click="fakeDonation()">Fake Donation</button>'),a.put("views/incomplete.html","<h2>Transaction Incomplete</h2> <p>We were unable to process your transaction</p>"),a.put("views/partial/footer.html",'<div class="outer-container"> <div class="block"> <div class="inner"> <h3>Join Our Mailing List</h3> <p> Get the latest news updates from the Southern Poverty Law Center. </p> <form action="" method=""> <div class="form-group"> <input type="text" placeholder="Email"> <input type="submit" value="Subscribe"> </div> </form> </div> </div> <div class="block second"> <div class="inner"> <h3>Become a Member</h3> <p> Friends of the Center support the fight for tolerance and justice with a modest, monthly gift. </p> <a href="">Learn More</a> </div> </div> <div class="block"> <div class="inner"> <h3>Send Us a Hate Incident Tip</h3> <p> Hate and extremist groups operating in the U.S. foment racism, anti-LGBT hate, religious bigotry and anti-immigrant sentiment. </p> <a href="">Report Hate Incident</a> </div> </div> </div>  <footer> <div class="outer-container"> <div class="col-1"> <ul class="social"> <li><a href="//www.splcenter.org"><img src="img/logo.png" alt="SPLC Logo"></a></li> <li><a href="https://www.facebook.com/SPLCenter"><i class="fa fa-facebook"></i></a></li> <li><a href="https://twitter.com/splcenter"><i class="fa fa-twitter"></i></a></li> </ul> <div class="address"> <h3>The Southern Poverty Law Center</h3> <p> 400 Washington Ave<br> Montgomery, AL 36104 </p> </div> <div class="memorial-center"> <h3>The Civil Rights Memorial Center</h3> <p> <a href="">Learn More</a> </p> </div> </div> <div class="col"> <h3>About Us</h3> <ul> <li><a href="">Board of Directors</a></li> <li><a href="">Senior Program Staff</a></li> <li><a href="">Financial Information</a></li> <li><a href="">Careers</a></li> </ul> </div> <div class="col second"> <h3>State Offices</h3> <ul> <li><a href="">Florida</a></li> <li><a href="">Mississippi</a></li> <li><a href="">Louisiana</a></li> <li><a href="">Alabama</a></li> </ul> </div> <div class="col"> <h3>Support Us</h3> <ul> <li><a href="">Donate</a></li> <li><a href="">Other Ways of Giving</a></li> <li><a href="">Update Your Giving</a></li> <li><a href=""></a></li> </ul> </div> <div class="col last"> <h3>Resources</h3> <ul> <li><a href="">News</a></li> <li><a href="">Case Docket</a></li> <li><a href="">Extremist Files</a></li> <li><a href="">Hatewatch</a></li> <li><a href="">Publications</a></li> </ul> </div> <div class="colophon">&copy;2015 Southern Poverty Law Center</div> </div></footer>'),a.put("views/partial/header.html",'<div class="outer-container"> <a class="logo" href="//www.splcenter.org"> </a> <div class="nav-toggle"> <a href="#"><i class="fa fa-bars"></i></a> </div> </div> <nav class="main-nav"> <div class="outer-container"> <ul> <li> <a href="//www.splcenter.org/what-we-do">What We Do</a> </li> <li> <a href="//www.splcenter.org/our-issues">Our Issues</a> </li> <li> <a href="//www.splcenter.org/resources">Resources</a> </li> <li> <a href="//www.splcenter.org/hate-map">Hate Map</a> </li> </ul> </div> </nav>'),a.put("views/partial/hero.html",'<div class="outer-container"> <div class="text"> <h1>Donate To SPLC</h1> <p> Your gift will help win justice on behalf of those who have no other champion, expose and fight the hate that thrives in our country, and provide tolerance education materials free of charge to schools across our nation. </p> </div> </div>'),a.put("views/partial/sidebar.html",'<div class="promo-block memoriam"> <h1>Give In Memoriam</h1> <p> Donate to SPLC in someone’s honor, or in memoriam of a friend or loved one. </p> <a class="button-clear" href="/#/tribute">Get Started</a> </div> <div class="promo-block gift"> <h1>A Free Gift for You</h1> <img src="img/gift.png" alt="3 Intelligence Report magazines"> <p> Supporters giving $25 or more receive a subscription to our quarterly magazine Intelligence Report. </p> </div>'),a.put("views/paypal.html",'<div class="donor-info"> <h2>Donor Information</h2> <ul> <li>{{paypalDonor.Donation.Donor.FirstName}} {{paypalDonor.Donation.Donor.LastName}}</li> <li>{{paypalDonor.Donation.Donor.Address.StreetAddress}}</li> <li>{{paypalDonor.Dontation.Donor.Address.City}} {{paypalDonor.Donation.Donor.Address.PostalCode}}</li> <li>{{paypalDonor.Donation.Donor.EmailAddress}}</li> <li>{{paypalDonor.Donation.Donor.Phone}}</li> </ul> </div> <form method="post" action="https://www.paypal.com/cgi-bin/webscr" class="paypal-button" target="_top" id="splcPaypalForm"> <input type="hidden" name="env" value="www"> <input type="hidden" name="first_name" value="{{paypalDonor.Donation.Donor.FirstName}}"> <input type="hidden" name="last_name" value="{{paypalDonor.Donation.Donor.LastName}}"> <input type="hidden" name="address1" value="{{paypalDonor.Donation.Donor.Address.StreetAddress}}"> <input type="hidden" name="zip" value="{{paypalDonor.Donation.Donor.Address.PostalCode}}"> <input type="hidden" name="city" value="{{paypalDonor.Donation.Donor.Address.City}}"> <input type="hidden" name="phone" value="{{paypalDonor.Donation.Donor.Phone}}"> <input type="hidden" name="email" value="{{paypalDonor.Donation.Donor.EmailAddress}}"> <input type="hidden" name="amount" value="{{paypalDonor.Donation.Gift.Designations[0].Amount}}"> <input type="hidden" name="item_name" value="Online Donation"> <input type="hidden" name="button" value="donate"> <input type="hidden" name="cmd" value="_donations"> <input type="hidden" name="business" value="paypalgifts@splcenter.org"> <input type="hidden" name="bn" value="JavaScriptButton_donate"> <input type="hidden" name="returnurl" value="{{confirmationPath()}}"> <input type="hidden" name="cbt" value="Southern Poverty Law Center"> <input type="hidden" name="returnurl" value="{{confirmationPath()}}"> <input class="button-dark paypal-payment" type="submit" value="Continue to Paypal" ng-model="PaypalButton"> </form>'),a.put("views/tribute.html",'<form name="tributeForm" novalidate> <h2>Donation Information</h2> <!-- DONATION AMOUNT --> <h3>Tribute Gift:</h3> <div class="radio-grp donation-group"> <div class="radio-btn"> <input type="radio" id="25" name="amount" value="25" ng-model="Gift.Designations.Amount"> <label for="25">$25</label> </div> <div class="radio-btn"> <input type="radio" id="50" name="amount" value="50" ng-model="Gift.Designations.Amount"> <label for="50">$50</label> </div> <div class="radio-btn"> <input type="radio" id="100" name="amount" value="100" ng-model="Gift.Designations.Amount"> <label for="100">$100</label> </div> <div class="radio-btn"> <input type="radio" id="500" name="amount" value="500" ng-model="Gift.Designations.Amount"> <label for="500">$500</label> </div> <div class="radio-btn"> <input type="radio" id="other" name="amount" value="other" ng-model="Gift.Designations.Amount"> <label class="other-toggle" for="other">Other Amount:</label> </div> <div class="form-group other-group" ng-show="Gift.Designations.Amount == \'other\'"> <label for="other_amount">Other Amount: {{Gift.OtherAmount | currency}}</label> <input type="number" ng-model="Gift.OtherAmount" name="other_amount" ng-min="5"> <p class="error" ng-if="tributeForm.other_amount.$error.min && Gift.Designations.Amount == \'other\'">Please enter at least 5.00</p> </div> </div> <!-- Honoree buttons --> <div class="radio-grp honoree-group"> <div class="radio-btn"> <input type="radio" id="in_honor" name="tribute_type" value="honor" ng-model="Gift.Tribute.TributeDefinition.Type" ng-required="!Gift.Tribute.TributeDefinition.Type"> <label for="in_honor">In Honor Of</label> </div> <div class="radio-btn"> <input type="radio" id="in_memory" name="tribute_type" value="memory" ng-model="Gift.Tribute.TributeDefinition.Type" ng-required="!Gift.Tribute.TributeDefinition.Type"> <label for="in_memory">In Memory Of</label> </div> </div> <div class="form-group half"> <label for="first_name">Honoree First Name<span class="required">*</span></label> <input type="text" name="honoree_first_name" ng-model="Gift.Tribute.TributeDefinition.FirstName" required> <div class="error" ng-messages="tributeForm.honoree_first_name.$error" ng-if="tributeForm.honoree_first_name.$touched"> <p ng-message="required">Please enter a first name</p> </div> </div> <div class="form-group half last"> <label for="last_name">Honoree Last Name<span class="required">*</span></label> <input type="text" name="honoree_last_name" ng-model="Gift.Tribute.TributeDefinition.LastName" required> <div class="error" ng-messages="tributeForm.honoree_last_name.$error" ng-if="tributeForm.honoree_last_name.$touched"> <p ng-message="required">Please enter a last name</p> </div> </div> <!-- Notification options --> <h2>Notification</h2> <div class="radio-grp notification-options-group"> <div class="radio-btn"> <input type="radio" id="notification_none" name="notification_type" value="none" ng-model="Notification.Type"> <label for="notification_none">None</label> </div> <div class="radio-btn"> <input type="radio" id="notification_email" name="notification_type" value="email" ng-model="Notification.Type"> <label for="notification_email">Email</label> </div> </div> <div class="notification-contact-info" ng-show="Notification.Type == \'email\'"> <h3>Notification Contact Information</h3> <div class="form-group half"> <label for="notification_first_name">First Name<span class="required">*</span></label> <input type="text" name="notification_first_name" ng-model="Gift.Tribute.Acknowledgee.FirstName" ng-required="Notification.Type == \'email\'"> <div class="error" ng-messages="tributeForm.notification_first_name.$error" ng-if="tributeForm.notification_first_name.$touched"> <p ng-message="required">Please enter a first name</p> </div> </div> <div class="form-group half last"> <label for="notification_last_name">Last Name<span class="required">*</span></label> <input type="text" name="notification_last_name" ng-model="Gift.Tribute.Acknowledgee.LastName" ng-required="Notification.Type == \'email\'"> <div class="error" ng-messages="tributeForm.notification_last_name.$error" ng-if="tributeForm.notification_last_name.$touched"> <p ng-message="required">Please enter a first name</p> </div> </div> <div class="form-group"> <label for="gift_comments">Nofitication message <span class="required">*</span></label> <textarea name="gift_comments" ng-model="Gift.Comments" ng-required="Notification.Type == \'email\'"></textarea> <div class="error" ng-messages="tributeForm.gift_comments.$error" ng-if="tributeForm.gift_comments.$touched"> <p ng-message="required">Please enter a notification message</p> </div> </div> <div class="form-group"> <label for="street_address">Address<span class="required">*</span></label> <input type="text" name="notification_address" ng-model="Gift.Tribute.Acknowledgee.AddressLines" ng-required="Notification.Type == \'email\'"> <div class="error" ng-messages="tributeForm.notification_address.$error" ng-if="tributeForm.notification_address.$touched"> <p ng-message="required">Please enter your address</p> </div> </div> <div class="form-group"> <label for="city">City<span class="required">*</span></label> <input type="text" name="notification_city" ng-model="Gift.Tribute.Acknowledgee.City" ng-maxlength="100" ng-required="Notification.Type == \'email\'"> <div class="error" ng-messages="tributeForm.notification_city.$error" ng-if="tributeForm.notification_city.$touched"> <p ng-message="required">Please enter your city</p> <p ng-message="maxlength">Maximum 100 characters</p> </div> </div> <div class="form-group third"> <label for="state">State<span class="required">*</span></label> <div class="select"> <select class="state-select first" name="notification_state" ng-model="Gift.Tribute.Acknowledgee.State"></select> </div> </div> <div class="form-group third"> <label for="zipcode">Zip Code<span class="required">*</span></label> <input type="text" name="notification_postal_code" ng-model="Gift.Tribute.Acknowledgee.PostalCode" ng-pattern="/(^([0-9]{5})$)|(^[ABCEGHJKLMNPRSTVXYabceghjklmnprstvxy]{1}\\d{1}[A-Za-z]{1} *\\d{1}[A-Za-z]{1}\\d{1}$)/" ng-required="Notification.Type == \'email\'"> <div class="error" ng-messages="tributeForm.notification_postal_code.$error" ng-if="tributeForm.notification_postal_code.$touched"> <p ng-message="required">Please enter your zip code</p> </div> <p class="error" ng-show="tributeForm.notification_postal_code.$error.pattern">Please enter a valid zipcode</p> </div> <div class="form-group third last"> <label for="country">Country<span class="required">*</span></label> <div class="select"> <select class="country-select first" name="notification_country" ng-model="Gift.Tribute.Acknowledgee.Country" ng-required="Notification.Type == \'email\'"> </select> </div> <div class="error" ng-messages="tributeForm.notification_country.$error" ng-if="tributeForm.notification_country.$touched && Gift.Tribute.Acknowledgee.Country == \'\'"> <p ng-message="required">Please enter your country</p> </div> </div> <div class="form-group"> <label for="phone">Phone Number</label> <input type="text" name="phone" ng-model="Gift.Tribute.Acknowledgee.Phone"> </div> <div class="form-group"> <label for="email">Email Address<span class="required">*</span></label> <input type="email" name="notification_email" ng-model="Gift.Tribute.Acknowledgee.Email" ng-required="Notification.Type == \'email\'" ng-pattern="/^[A-Za-z0-9](([_\\.\\-]?[a-zA-Z0-9]+)*)@([A-Za-z0-9]+)(([\\.\\-]?[a-zA-Z0-9]+)*)\\.([A-Za-z]{2,})$/"> <div class="error" ng-messages="tributeForm.notification_email.$error" ng-if="tributeForm.notification_email.$touched"> <p ng-message="required">Please enter an email </p> <p ng-message="pattern">Please enter a valid email </p> </div> </div> <div class="form-group"> <label for="confirm_email">Confirm Email Address</label> <input type="email" name="confirm_email" ng-model="Notification.ConfirmEmail"> </div> <!-- Physical Card Options --> <div class="form-group ecards"> <h3>E Card Options (Pick one)</h3> <div class="radio-grp"> <div class="card"> <label for="tribute card">Tribute Card <input type="radio" name="ecard_type" value="11220" ng-model="Ecard.Type"> </label> <img src="img/Tribute-card-cover.png" alt="Blue card with splc logo in bottom right corner"> </div> </div> <div class="radio-grp"> <div class="card"> <label for="tribute card">Holiday Tribute Card <input type="radio" name="ecard_type" value="11221" ng-model="Ecard.Type"> </label> <img src="img/Holiday-Tribute-card-cover.png" alt="Blue card with splc logo in bottom right corner"> </div> </div> </div> </div> <h2>Payment</h2> <!-- DONOR INFORMATION --> <h3>Billing Address</h3> <div class="form-group half"> <label for="first_name">First Name<span class="required">*</span></label> <input type="text" ng-model="Donor.FirstName" name="first_name" ng-minlength="2" required> <div class="error" ng-messages="tributeForm.first_name.$error" ng-if="tributeForm.first_name.$touched"> <p ng-message="required">Please enter your first name</p> <p ng-message="minlength">Enter at least 2 letters for your first name</p> </div> </div> <div class="form-group half last"> <label for="last_name">Last Name<span class="required">*</span></label> <input type="text" name="last_name" ng-model="Donor.LastName" ng-minlength="2" required> <div class="error" ng-messages="tributeForm.last_name.$error" ng-if="tributeForm.last_name.$touched"> <p ng-message="required">Please enter your last name</p> <p ng-message="minlength">Enter at least 2 letters for your last name</p> </div> </div> <div class="form-group"> <label for="street_address">Address<span class="required">*</span></label> <input type="text" name="street_address" ng-model="Donor.Address.StreetAddress" required> <div class="error" ng-messages="tributeForm.street_address.$error" ng-if="tributeForm.street_address.$touched"> <p ng-message="required">Please enter your address</p> </div> </div> <div class="form-group"> <label for="city">City<span class="required">*</span></label> <input type="text" name="city" ng-model="Donor.Address.City" ng-maxlength="100" required> <div class="error" ng-messages="tributeForm.city.$error" ng-if="tributeForm.city.$touched" ng-maxlength="100"> <p ng-message="required">Please enter your city</p> <p ng-message="maxlength">Maximum 100 characters</p> </div> </div> <div class="form-group third"> <label for="state">State<span class="required">*</span></label> <div class="select"> <select class="state-select second" name="state" ng-model="Donor.Address.State"> </select> </div> </div> <div class="form-group third"> <label for="zipcode">Zip Code<span class="required">*</span></label> <input type="text" name="postal_code" ng-model="Donor.Address.PostalCode" ng-pattern="/(^([0-9]{5})$)|(^[ABCEGHJKLMNPRSTVXYabceghjklmnprstvxy]{1}\\d{1}[A-Za-z]{1} *\\d{1}[A-Za-z]{1}\\d{1}$)/" required> <div class="error" ng-messages="tributeForm.postal_code.$error" ng-if="tributeForm.postal_code.$touched"> <p ng-message="required">Please enter your zip code</p> </div> <p class="error" ng-show="tributeForm.postal_code.$error.pattern">Please enter a valid zipcode</p> </div> <div class="form-group third last"> <label for="country">Country<span class="required">*</span></label> <div class="select"> <select class="country-select second" name="country" ng-model="Donor.Address.Country" required> </select> </div> <div class="error" ng-messages="tributeForm.donor_country.$error" ng-if="tributeForm.donor_country.$touched && Donor.Address.Country == \'\'"> <p ng-message="required">Please enter your country</p> </div> </div> <div class="form-group"> <label for="phone">Phone Number</label> <input type="text" name="phone" ng-model="Donor.Phone"> </div> <div class="form-group"> <label for="email">Email Address</label> <input type="email" name="email" ng-model="Donor.EmailAddress" ng-pattern="/^[A-Za-z0-9](([_\\.\\-]?[a-zA-Z0-9]+)*)@([A-Za-z0-9]+)(([\\.\\-]?[a-zA-Z0-9]+)*)\\.([A-Za-z]{2,})$/"> <p class="error" ng-show="tributeForm.email.$error.pattern">Please enter a valid email address</p> </div> <div class="form-group"> <label for="confirm_email">Confirm Email Address</label> <input type="email" name="donor_confirm_email" ng-model="Donor.ConfirmEmail" match="Donor.EmailAddress"> <p class="error" ng-show="tributeForm.donor_confirm_email.$error.match">Make sure the email addresses match</p> </div> <!-- PAYMENT INFORMATION --> <div class="form-group form-actions"> <h2>Proceed to Payment</h2> <button class="disabled" value="Enter Required Fields to Submit" disabled ng-show="tributeForm.$invalid"> Enter required fields to submit </button> <button class="button-dark" type="submit" ng-show="tributeForm.$valid" ng-click="processTributeDonation(Donor, Gift, Notification, Ecard)">Continue to Payment</button> </div> </form>');
}]);